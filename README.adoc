= Brick Engine JS Documentation
:description: Modular TypeScript game engine for retro grid-based games.
:keywords: typescript, game-engine, retro, grid-based, p5js, modular
:toc: left
:toclevels: 3
:sectnums:
:sectlinks:
:icons: font
:source-highlighter: highlight.js
:reproducible:
:experimental:
:idprefix:
:idseparator: -

== Objective

The **Brick Engine** is a modular, TypeScript-based game engine designed for creating retro grid-based games (like Tetris, Snake, Breakout) that run in a browser. It leverages **P5.js** for rendering and simulates the experience of a classic handheld gaming device, complete with a dot-matrix style display, a HUD (Head-Up Display), and physical button controls.

== Key Features

* **Grid-Based Logic**: Built-in support for 2D grid management, collision detection, and row/column manipulations.
* **Retro Aesthetic**: Simulates a physical device with customizable colors and responsive layout.
* **Modular Architecture**: core functionality is split into distinct modules (Grid, Control, Renderer, State, Text, Time, Score) for clean separation of concerns.
* **Input Handling**: Unified control system supporting keyboard and on-screen button inputs.
* **Game Loop**: Separated logic ticks (game speed) from rendering frames (60fps smooth animations).
* **Debugger**: Built-in real-time state inspector. See xref:docs/reference/modules/Debugger.adoc[Debugger Reference].

== Getting Started

The fastest way to start is using the **Brick Engine CLI**, which scaffolds a complete project with build tools, standard scripts, and a boilerplate `src/index.ts` ready for development.

[source,bash]
----
npx brick-engine-cli init my-brick-game
----

For a detailed walkthrough on installation, project structure, and how to implement your game logic, see our **xref:docs/getting-started.adoc[Getting Started Guide]**.

== Structure

The engine is organized into the following core modules:

[cols="1,3", options="header"]
|===
| Module | Description

| xref:docs/reference/modules/Game.adoc[Game (Core)]
| The central orchestrator. It initializes the engine, manages the main loop (ticks and frames), and provides access to all other modules.

| xref:docs/reference/modules/GameGrid.adoc[GameGrid]
| Manages the 2D grid data structure. Handles cell values, colors, row/column operations, and collision detection. Includes `GameHudGrid` for custom HUD content.

| xref:docs/reference/modules/GameControl.adoc[GameControl]
| The input system. Abstracts physical keys into virtual actions (UP, DOWN, ACTION) and provides an event subscription API.

| xref:docs/reference/modules/GameRenderer.adoc[GameRenderer]
| Handles visual representation. Draws the grid, cells, and UI elements to the canvas using P5.js.

| xref:docs/reference/modules/GameState.adoc[GameState]
| Tracks global game properties (playing, paused, score) and supports state persistence.

| xref:docs/reference/modules/GameText.adoc[GameText]
| Specialized renderer for drawing retro-style pixelated text on the HUD and main display.

| xref:docs/reference/modules/GameTime.adoc[GameTime]
| Controls game loop timing, separating logic updates (Ticks) from visual rendering (Frames).

| xref:docs/reference/modules/GameSound.adoc[GameSound]
| Manages audio playback using the Web Audio API, supporting simultaneous sounds and volume control.

| xref:docs/reference/modules/GameScore.adoc[GameScore]
| Tracks session score, level logic, and syncs high scores with `GameState`.
|===