= Debugger Class Reference
:description: Real-time, HTML-based overlay for monitoring the state of all engine modules.
:keywords: debug, monitoring, overlay, diagnostics
:toc: left
:toclevels: 3
:sectnums:
:sectlinks:
:icons: font
:source-highlighter: highlight.js
:reproducible:
:experimental:
:idprefix:
:idseparator: -

The `Debugger` class provides a real-time, HTML-based overlay for monitoring the state of all engine modules. It automatically identifies and extracts data from any module that implements the `xref:../interfaces/Debuggable.adoc[Debuggable]` interface.

== API Reference

=== `setup(): void`

Initializes the debugger's DOM structure.

**Behavior**

Creates the main debugger container (`<details id="debugger">`) and appends it to the document body. It scans all registered `xref:../interfaces/GameModules.adoc[GameModules]` and prepares the UI sections for those that expose debug information via `getDebugData`.

'''

=== `setGameModules(gameModules: GameModules): void`

Updates the active game modules being monitored by the debugger.

**Parameters**

[cols="1,1,3", options="header"]
|===
|Name |Type |Description
|`gameModules` |`xref:../interfaces/GameModules.adoc[GameModules]` | The new instance of game modules to track.
|===

**Behavior**

When switching games or game states, this method replaces the internal module references and automatically triggers a UI rebuild by calling `setup()`. Importantly, it preserves the `open` state of any currently expanded module details (`<details>` tags) so the layout does not unexpectedly collapse when the new modules load.

'''

=== `update(): Promise<void>`

Refreshes the overlay with new data from the modules.

**Behavior**

Executes at a frequency controlled by `configs.game.debugger.msInterval`. It fetches the latest metrics from all `Debuggable` modules and updates the corresponding UI nodes. To maintain performance, it uses a precise timing check and caches DOM references.

== Configuration

The debugger behavior is controlled via the main `configs.ts` file:

*   `configs.game.debugger.enabled`: Global toggle to enable/disable the overlay.
*   `configs.game.debugger.msInterval`: The refresh rate (in milliseconds). Higher values reduce CPU usage.

== Implementation

Modules wishing to appear in the debugger must implement the `Debuggable` interface:

[source,typescript]
----
interface Debuggable {
  getDebugData(): Record<string, string | number | boolean>;
}
----
