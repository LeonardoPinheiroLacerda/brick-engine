= GameRenderer Module
:toc: macro
:toc-title: Table of Contents
:icons: font
:source-highlighter: highlight.js

toc::[]

The `GameRenderer` module handles the visualization of the game state on the HTML5 canvas using P5.js.

It follows a **Strategy Composite** pattern, allowing multiple render layers, but the primary renderer is `DisplayRenderer`.

== Features

* **Automatic Scaling**: Adjusts the game grid to fit the container while maintaining aspect ratio.
* **Retro Styling**: Renders cells with a grid gap and "LCD" style look.
* **Metrics**: Exposes calculated dimensions for other modules (like Text) to align content correctly.

== API Reference

=== `render(grid: Cell[][]): void`

Called automatically by the main `Game` loop. Draws the current state of the grid.

**Parameters**

[cols="1,1,3"]
|===
|Name |Type |Description
|`grid` |`Cell[][]` |The 2D array of cells to render.
|===


**Behavior**

Iterates through the grid and draws each active cell. Draws the background grid.

**Example**

[source,typescript]
----
this.modules.renderer.render(currentGrid);
----

=== `rendererMetrics: RendererMetrics`

Read-only property containing calculated dimensions.


**Returns**

`RendererMetrics` - Object with display and cell dimensions.

**Behavior**

Values are calculated during `setup()` based on screen size. Used for aligning HUD elements and custom drawing.

**Example**

[source,typescript]
----
const { cell } = this.modules.renderer.rendererMetrics;
const pixelX = gridX * cell.size;
----

[source,typescript]
----
const { renderer } = this.modules;
const { cell } = renderer.rendererMetrics;

// Draw a custom effect at grid position (5, 5)
p5.circle(5 * cell.size, 5 * cell.size, 10);
----
