= GameText Module
:toc: macro
:toc-title: Table of Contents
:icons: font
:source-highlighter: highlight.js

toc::[]

The `GameText` module handles rendering text on the game screen. It specifically manages retro-style fonts and ensures text is scaled correctly relative to the canvas size.

== Areas

There are two main areas for text:

. **Display**: The main game grid area.
. **HUD**: The Head-Up Display area (usually on the side).

== Font Sizes

The engine provides responsive font sizes via the `FontSize` enum:

* `EXTRA_SMALL`
* `SMALL`
* `MEDIUM`
* `LARGE`
* `EXTRA_LARGE`

== API Reference

=== `setRendererMetrics(metrics: RendererMetrics): void`

Updates the internal reference for screen dimensions and origins.

**Parameters**

[cols="1,1,3"]
|===
|Name |Type |Description
|`metrics` |`RendererMetrics` |The updated renderer metrics.
|===

**Behavior**

Stores the metrics used to calculate absolute pixel positions for `textOnHud` and `textOnDisplay`.

=== `setActiveText(): void`

Sets the text color to the active theme color.

**Behavior**

Changes fill color to `active` config value.

**Example**

[source,typescript]
----
text.setActiveText();
----

=== `setInactiveText(): void`

Sets the text color to the inactive theme color.

**Behavior**

Changes fill color to `inactive` config value.

**Example**

[source,typescript]
----
text.setInactiveText();
----

=== `setTextSize(size: FontSize): void`

Sets the current font size from predefined responsive values.

**Parameters**

[cols="1,1,3"]
|===
|Name |Type |Description
|`size` |`FontSize` |Enum value (EXTRA_SMALL to EXTRA_LARGE).
|===

**Behavior**

Applies the pre-calculated pixel size to the P5 instance.

**Example**

[source,typescript]
----
this.modules.text.setTextSize(FontSize.LARGE);
----

=== `setTextAlign(align: FontAlign, verticalAlign: FontVerticalAlign): void`

Configures text alignment.

**Parameters**

[cols="1,1,3"]
|===
|Name |Type |Description
|`align` |`FontAlign` |Horizontal (LEFT, CENTER, RIGHT).
|`verticalAlign` |`FontVerticalAlign` |Vertical (TOP, CENTER, BOTTOM).
|===

**Behavior**

Sets P5 `textAlign`.

**Example**

[source,typescript]
----
text.setTextAlign(FontAlign.CENTER, FontVerticalAlign.CENTER);
----

=== `textOnDisplay(text: string, coordinate: Coordinate): void`

Renders text on the main display area.

**Parameters**

[cols="1,1,3"]
|===
|Name |Type |Description
|`text` |`string` |The string to render.
|`coordinate` |`Coordinate` |Normalized point `{x, y}` (0.0 to 1.0).
|===

**Behavior**

Calculates the absolute pixel position within the game grid area and renders the text.

**Example**

[source,typescript]
----
text.textOnDisplay('GAME OVER', { x: 0.5, y: 0.5 });
----

=== `textOnHud(text: string, coordinate: Coordinate): void`

Renders text on the HUD area.

**Parameters**

[cols="1,1,3"]
|===
|Name |Type |Description
|`text` |`string` |The string to render.
|`coordinate` |`Coordinate` |Normalized point `{x, y}` (0.0 to 1.0) relative to HUD.
|===

**Behavior**

Calculates the absolute pixel position within the HUD area and renders the text.

**Example**

[source,typescript]
----
text.textOnHud('SCORE: 100', { x: 0.1, y: 0.1 });
----

=== Example

[source,typescript]
----
const { text } = this.modules;

// Render "SCORE" on the HUD
text.setTextSize(FontSize.SMALL);
text.setTextAlign(FontAlign.LEFT, FontVerticalAlign.TOP);
text.setActiveText();
text.textOnHud('SCORE', { x: 0, y: 0 });
----
