= GameText Module
:toc: macro
:toc-title: Table of Contents
:icons: font
:source-highlighter: highlight.js

toc::[]

The `GameText` module handles rendering text on the game screen. It specifically manages retro-style fonts and ensures text is scaled correctly relative to the canvas size.

== Areas

There are two main areas for text:

. **Display**: The main game grid area.
. **HUD**: The Head-Up Display area (usually on the side).

== Font Sizes

The engine provides responsive font sizes via the `FontSize` enum:

* `EXTRA_SMALL`
* `SMALL`
* `MEDIUM`
* `LARGE`
* `EXTRA_LARGE`

== API Reference

=== Configuration


==== `setTextAlign(align: FontAlign, verticalAlign: FontVerticalAlign): void`

Configures text alignment.

**Parameters**

[cols="1,1,3"]
|===
|Name |Type |Description
|`align` |`FontAlign` |Horizontal (LEFT, CENTER, RIGHT).
|`verticalAlign` |`FontVerticalAlign` |Vertical (TOP, CENTER, BOTTOM).
|===

**Behavior**

Sets P5 `textAlign`.

**Example**

[source,typescript]
----
text.setTextAlign(FontAlign.CENTER, FontVerticalAlign.CENTER);
----

==== `setText(text: string): void`

Updates the text to be displayed.

**Parameters**

[cols="1,1,3"]
|===
|Name |Type |Description
|`text` |`string` |The string to render.
|===


**Behavior**

Stores the text and recalculates the pixel grid representation based on the current font and size.

**Example**

[source,typescript]
----
this.modules.text.setText("SCORE: 100");
----

=== `setTextSize(size: FontSize): void`

Sets the scale logic for the text.

**Parameters**

[cols="1,1,3"]
|===
|Name |Type |Description
|`size` |`FontSize` |Enum value (SMALL, MEDIUM, LARGE).
|===


**Behavior**

Updates the `fontSize` property. Does not automatically redraw; `draw()` must be called to see changes.

**Example**

[source,typescript]
----
this.modules.text.setTextSize(FontSize.LARGE);
----

=== `draw(x: number, y: number): void`

Renders the current text at the specified coordinates.

**Parameters**

[cols="1,1,3"]
|===
|Name |Type |Description
|`x` |`number` |Grid column index.
|`y` |`number` |Grid row index.
|===


**Behavior**

Iterates through the text's pixel data and draws active pixels to the screen using `GameRenderer`.

**Example**

[source,typescript]
----
this.modules.text.draw(2, 2);
----

==== `setActiveText(): void`

Sets the text color to the active theme color.

**Behavior**

Changes fill color to `active` config value.

**Example**

[source,typescript]
----
text.setActiveText();
----

==== `setInactiveText(): void`

Sets the text color to the inactive theme color.

**Behavior**

Changes fill color to `inactive` config value.

**Example**

[source,typescript]
----
text.setInactiveText();
----

=== Rendering

==== `textOnDisplay(text: string, coordinate: Coordinate): void`

Renders text on the main display area.

**Parameters**

[cols="1,1,3"]
|===
|Name |Type |Description
|`text` |`string` |The string to render.
|`coordinate` |`Coordinate` |Point `{x, y}` normalized (0-1).
|===

**Behavior**

Calculates pixel position based on Display metrics and draws text.

**Example**

[source,typescript]
----
text.textOnDisplay('GAME OVER', { x: 0.5, y: 0.5 });
----

==== `textOnHud(text: string, coordinate: Coordinate): void`

Renders text on the HUD area.

**Parameters**

[cols="1,1,3"]
|===
|Name |Type |Description
|`text` |`string` |The string to render.
|`coordinate` |`Coordinate` |Point `{x, y}` normalized (0-1) relative to HUD.
|===

**Behavior**

Calculates pixel position relative to HUD area and draws text.

**Example**

[source,typescript]
----
text.textOnHud('SCORE: 100', { x: 0.1, y: 0.1 });
----

=== Example

[source,typescript]
----
const { text } = this.modules;

// Render "SCORE" on the HUD
text.setTextSize(FontSize.SMALL);
text.setTextAlign(FontAlign.LEFT, FontVerticalAlign.TOP);
text.setActiveText();
text.textOnHud('SCORE', { x: 0, y: 0 });
----
