= DisplayRenderer Module
:toc: macro
:toc-title: Table of Contents
:icons: font
:source-highlighter: highlight.js

toc::[]

The `DisplayRenderer` module is responsible for rendering the main game grid and the individual cells (bricks) within it. It implements the `Renderer` interface and is managed by `GameRenderer`.

== Features

* **Optimized Rendering**: Uses an off-screen graphics buffer (`p5.Graphics`) to render static elements like the background and borders only once.
* **Metric-Driven**: Receives pre-calculated layout metrics from `GameRenderer` during setup, ensuring perfect alignment with other renderers.
* **Translation-Based Drawing**: Uses P5.js translation matrices to simplify cell drawing logic.

== API Reference

=== `setup(rendererMetrics: RendererMetrics): void`

Initializes the renderer with layout metrics and pre-calculates geometry for cells and static elements.

**Parameters**

[cols="1,1,3"]
|===
|Name |Type |Description
|`rendererMetrics` |`RendererMetrics` |The calculated layout metrics from `GameRenderer`.
|===

**Behavior**

Stores the `rendererMetrics` for use during rendering. It also pre-calculates the static parts of the display (background, border) into an image buffer to improve performance.

=== `render(grid: Cell[][]): void`

Draws the main game display.

**Parameters**

[cols="1,1,3"]
|===
|Name |Type |Description
|`grid` |`Cell[][]` |The current state of the game grid.
|===

**Behavior**

1. Draws the cached static background image.
2. Iterates through the grid and draws each active cell using the stored metric values.


